<!--
  ~ Licensed under the MIT License (https://opensource.org/licenses/MIT).
  ~ Find the full license text in the LICENSE file of the project root.
  -->
<mat-button-toggle-group
  name="tasktype"
  (change)="toggleType()"
  class="d-flex flex-shrink-0"
>
  <mat-button-toggle
    class="flex-grow-1"
    value="roaming"
    [checked]="type === 'roaming'"
    >Roaming</mat-button-toggle
  >
  <mat-button-toggle
    class="flex-grow-1"
    value="line"
    [checked]="type === 'line'"
    >Line</mat-button-toggle
  >
</mat-button-toggle-group>

<roaming-editor
  *ngIf="type === 'roaming'"
  class="flex-shrink-1 flex-grow-1 w-100"
  [lastPosition]="lastPosition"
  (selectTask)="taskSelected($event)"
></roaming-editor>

<tour-selector
  *ngIf="type === 'line'"
  class="flex-grow-1 flex-shrink-1 w-100 overflow-hidden"
  (selectTask)="taskSelected($event)"
></tour-selector>

<div class="d-flex justify-content-end w-100">
  <button
    mat-stroked-button
    color="primary"
    [disabled]="!task"
    (click)="save()"
  >
    {{ editMode ? "Save" : "Add" }}
  </button>
</div>
