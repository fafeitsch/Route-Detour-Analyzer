<!--
  ~ Licensed under the MIT License (https://opensource.org/licenses/MIT).
  ~ Find the full license text in the LICENSE file of the project root.
  -->

<div class="d-flex flex-column">
  <span class="mat-body-strong" [ngClass]="!result ? 'disabled' : ''">{{
    title
  }}</span>
  <div
    class="d-flex align-items-center"
    (mouseenter)="overSourceStop()"
    (mouseleave)="unsetFocus()"
  >
    <line-stop
      stopType="real"
      [isFirstStop]="true"
      [lineColor]="lineColor"
    ></line-stop>
    <ng-container *ngIf="result">{{
      result.sourceStop.name || result.source + 1 + 'th stop'
    }}</ng-container>
  </div>
  <div class="d-flex align-items-center">
    <line-stop [lineColor]="lineColor"></line-stop>
    <div *ngIf="result">
      <div>
        {{ result.relative | number: '1.2-2' }} (relative) ({{
          result.absolute / 1000 | number: '1.0-3'
        }}
        km)
      </div>
      <div *ngIf="average" class="disabled">
        (Average is {{ average - 1 | number: '1.2-2' }} %)
      </div>
    </div>
  </div>
  <div
    class="d-flex align-items-center"
    (mouseenter)="overTargetStop()"
    (mouseleave)="unsetFocus()"
  >
    <line-stop
      stopType="real"
      [isLastStop]="true"
      [lineColor]="lineColor"
    ></line-stop>
    <ng-container *ngIf="result">{{
      result.targetStop.name || result.target + 1 + 'th stop'
    }}</ng-container>
  </div>
</div>
