<!--
  ~ Licensed under the MIT License (https://opensource.org/licenses/MIT).
  ~ Find the full license text in the LICENSE file of the project root.
  -->
<mat-card class="mt-3 ml-3 d-flex flex-column">
  <mat-card-title>Lines</mat-card-title>
  <mat-card-content
    class="d-flex flex-column overflow-hidden align-items-start"
  >
    <button
      mat-button
      class="mb-3"
      color="primary"
      [routerLink]="['route-editor', nextFreeLineName$ | async]"
      (click)="createLine()"
    >
      Create New Line
    </button>
    <div class="flex-grow-1 overflow-auto w-100">
      <div
        *ngFor="let line of lines$ | async"
        class="d-flex align-items-center mb-2"
      >
        <div
          class="mr-3 line-indicator"
          [style.background-color]="line.color"
        ></div>

        <div class="d-flex flex-column w-100">
          <span>{{ line.name }}</span>
          <div class="d-flex align-items-center flex-gap-4">
            <a
              class="themed mat-body-strong"
              [routerLink]="['route-editor', line.name]"
              >Route Editor</a
            >
            <a
              class="themed mat-body-strong"
              [routerLink]="['timetable', line.name]"
            >
              Timetable</a
            >
            <div class="flex-grow-1"></div>
          </div>
        </div>
        <button mat-button color="primary" (click)="deleteLine(line.name)">
          Delete
        </button>
      </div>
    </div>
  </mat-card-content>
</mat-card>
